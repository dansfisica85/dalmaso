/* ============================================================
   DALMASO — Gestão Escolar — Dark Theme (Admed-inspired)
   ============================================================ */
:root {
  --primary: #6366f1;
  --primary-light: #818cf8;
  --primary-dark: #4f46e5;
  --bg: #0f1923;
  --bg-alt: #111d2b;
  --bg-card: #162231;
  --bg-card-hover: #1b2a3c;
  --text: #e2e8f0;
  --text-muted: #7a8ba3;
  --border: #1e3048;
  --sidebar-bg: #0a1018;
  --sidebar-text: #7a8ba3;
  --sidebar-active: #6366f1;
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --info: #06b6d4;
  --accent: #00d4aa;
  --cyan: #22d3ee;
  --radius: 16px;
  --radius-sm: 10px;
  --shadow: 0 4px 20px rgba(0,0,0,.25);
  --shadow-lg: 0 12px 40px rgba(0,0,0,.4);
  --shadow-glow: 0 0 30px rgba(99,102,241,.15);
  --gradient-primary: linear-gradient(135deg, #6366f1, #8b5cf6);
  --gradient-success: linear-gradient(135deg, #10b981, #059669);
  --gradient-cyan: linear-gradient(135deg, #06b6d4, #22d3ee);
  --gradient-danger: linear-gradient(135deg, #ef4444, #f97316);
  --gradient-warning: linear-gradient(135deg, #f59e0b, #eab308);
  --gradient-dark: linear-gradient(135deg, #1e293b, #0f172a);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
}

/* Scrollbar dark */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #2d3f54; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #3d5068; }

/* ── SIDEBAR ─────────────────────────── */
.sidebar {
  width: 240px;
  min-height: 100vh;
  background: var(--sidebar-bg);
  color: var(--sidebar-text);
  display: flex;
  flex-direction: column;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
  transition: transform .3s ease;
  border-right: 1px solid var(--border);
}
.sidebar-header {
  padding: 1.5rem 1.25rem;
  font-size: 1.3rem;
  font-weight: 700;
  color: #fff;
  display: flex;
  align-items: center;
  gap: .6rem;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.sidebar-header i { font-size: 1.5rem; color: var(--accent); }
.sidebar-nav {
  list-style: none;
  padding: .5rem 0;
  flex: 1;
}
.sidebar-nav li {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .75rem 1.25rem;
  cursor: pointer;
  transition: all .15s ease;
  border-left: 3px solid transparent;
  font-size: .9rem;
}
.sidebar-nav li:hover {
  background: rgba(255,255,255,.06);
  color: #fff;
}
.sidebar-nav li.active {
  background: rgba(99,102,241,.12);
  color: #fff;
  border-left-color: var(--accent);
  font-weight: 600;
}
.sidebar-nav li i { font-size: 1.1rem; width: 22px; text-align: center; }
.sidebar-footer {
  padding: 1rem 1.25rem;
  border-top: 1px solid rgba(255,255,255,.08);
  font-size: .75rem;
  color: var(--text-muted);
}

/* ── MAIN CONTENT ────────────────────── */
.main-content {
  margin-left: 240px;
  padding: 1.5rem 2rem;
  min-height: 100vh;
  width: calc(100% - 240px);
}

/* ── PAGES ────────────────────────────── */
.page { display: none; }
.page.active { display: block; }
.page-title {
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 1.25rem;
  display: flex;
  align-items: center;
  gap: .5rem;
  color: var(--text);
}
.page-title i { color: var(--accent); }

/* ── TURMA CARDS (HOME) ─────────────── */
.turma-card-inicio {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.5rem;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: all .3s ease;
  text-align: center;
  border: 1px solid var(--border);
}
.turma-card-inicio:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent);
  background: var(--bg-card-hover);
}
.turma-card-inicio .turma-icon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.8rem;
  color: #fff;
  margin: 0 auto 12px;
}
.turma-card-inicio h4 {
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 4px;
  color: var(--text);
}
.turma-card-inicio .alunos-count {
  color: var(--text-muted);
  font-size: .85rem;
}

/* ── CALENDÁRIO ANUAL ────────────────── */
.calendario-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
.calendario-mes {
  background: var(--bg-card);
  border-radius: var(--radius-sm);
  overflow: hidden;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}
.calendario-mes-header {
  background: var(--gradient-primary);
  color: white;
  text-align: center;
  padding: 8px 6px;
  font-weight: 600;
  font-size: .85rem;
  letter-spacing: .3px;
}
.calendario-mes table {
  width: 100%;
  border-collapse: collapse;
}
.calendario-mes thead th {
  background: rgba(99,102,241,.1);
  color: var(--primary-light);
  padding: 4px 2px;
  text-align: center;
  font-size: .65rem;
  font-weight: 600;
  text-transform: uppercase;
}
.calendario-mes tbody td {
  text-align: center;
  padding: 3px 2px;
  font-size: .75rem;
  border: 1px solid var(--border);
  height: 26px;
  min-width: 26px;
  cursor: default;
  transition: background .15s;
  color: var(--text);
}
.dia-util {
  background: rgba(16,185,129,.08);
  cursor: pointer;
}
.dia-util:hover {
  background: rgba(16,185,129,.2);
}
.dia-registrado {
  background: rgba(16,185,129,.2) !important;
  color: #10b981 !important;
  font-weight: 700;
  box-shadow: inset 0 0 0 2px var(--accent);
}
.dia-registrado:hover {
  background: rgba(16,185,129,.3) !important;
}
.dia-hoje {
  box-shadow: inset 0 0 0 2px var(--warning);
  font-weight: 700;
}
.dia-fds {
  background: rgba(99,102,241,.05);
  color: var(--primary-light);
  font-weight: 500;
}
/* Calendário Pedagógico — cores especiais */
.dia-feriado { background: rgba(239,68,68,.15) !important; color: #ef4444 !important; }
.dia-recesso { background: rgba(139,92,246,.12) !important; color: #a78bfa !important; }
.dia-avaliacao { background: rgba(6,182,212,.15) !important; color: #22d3ee !important; }
.dia-conselho { background: rgba(245,158,11,.15) !important; color: #f59e0b !important; }
.dia-fevereiro-completo {
  background: rgba(16,185,129,.15) !important;
  color: #10b981 !important;
  font-weight: 600;
}

/* ── LEGENDA CALENDÁRIO ──────────────── */
.calendario-legenda {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  font-size: .8rem;
  color: var(--text-muted);
}
.legenda-item { display: flex; align-items: center; gap: 6px; }
.legenda-cor { width: 16px; height: 16px; border-radius: 4px; display: inline-block; }
.bg-dia-letivo { background: rgba(16,185,129,.15); border: 1px solid rgba(16,185,129,.3); }
.bg-dia-registrado { background: rgba(16,185,129,.2); box-shadow: inset 0 0 0 2px var(--accent); }
.bg-dia-hoje { background: var(--bg-card); box-shadow: inset 0 0 0 2px #fbbf24; }
.bg-dia-fds { background: rgba(99,102,241,.05); border: 1px solid var(--border); }

/* ── CHAMADA / FREQUÊNCIA ────────────── */
.chamada-check {
  width: 28px;
  height: 28px;
  cursor: pointer;
  accent-color: var(--accent);
}
.chamada-row-ausente {
  background: rgba(239,68,68,.1) !important;
}

/* ── TABLES ──────────────────────────── */
.table { font-size: .875rem; color: var(--text); }
.table th {
  background: rgba(99,102,241,.08);
  font-weight: 600;
  font-size: .8rem;
  text-transform: uppercase;
  letter-spacing: .3px;
  color: var(--text-muted);
  border-bottom: 2px solid var(--border);
  white-space: nowrap;
}
.table td { vertical-align: middle; border-color: var(--border); }
.table-hover tbody tr:hover { background: rgba(99,102,241,.05); }

/* ── CARDS generic ───────────────────── */
.card {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: var(--bg-card);
}

/* ── CHART CARDS ─────────────────────── */
.chart-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  height: 100%;
}
.chart-title {
  font-weight: 600;
  font-size: .85rem;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: .5px;
  margin-bottom: .75rem;
}

/* ── TURMA GRID (MANAGE) ────────────── */
.turma-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  transition: transform .15s ease;
}
.turma-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.turma-card h5 { font-weight: 700; color: var(--text); }
.turma-card .badge { font-size: .8rem; }

/* ── ALUNO DETALHE ───────────────────── */
.aluno-info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1rem;
}
.aluno-info-item {
  background: var(--bg-alt);
  padding: .75rem 1rem;
  border-radius: 8px;
  border-left: 3px solid var(--accent);
}
.aluno-info-item label {
  font-size: .72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .3px;
  color: var(--text-muted);
  display: block;
  margin-bottom: .15rem;
}
.aluno-info-item span { font-size: .9rem; font-weight: 500; color: var(--text); }

/* ── BTNS ────────────────────────────── */
.btn-sm { font-size: .8rem; }
.btn-action {
  width: 32px; height: 32px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  font-size: .85rem;
}

/* ── REPORT CARDS ────────────────────── */
.report-freq-bar {
  height: 8px;
  border-radius: 4px;
  background: var(--border);
  overflow: hidden;
}
.report-freq-bar-fill {
  height: 100%;
  border-radius: 4px;
  transition: width .4s ease;
}

/* ── TOAST ────────────────────────────── */
.toast-container {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: .5rem;
}
.toast-msg {
  padding: .75rem 1.25rem;
  border-radius: 10px;
  color: #fff;
  font-size: .875rem;
  font-weight: 500;
  box-shadow: var(--shadow-lg);
  animation: toastIn .3s ease;
  max-width: 380px;
  backdrop-filter: blur(10px);
}
.toast-msg.success { background: rgba(16,185,129,.9); }
.toast-msg.error { background: rgba(239,68,68,.9); }
.toast-msg.info { background: rgba(6,182,212,.9); }
@keyframes toastIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ── RESPONSIVE ──────────────────────── */
@media (max-width: 992px) {
  .calendario-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
  }
  .sidebar.show {
    transform: translateX(0);
  }
  .main-content {
    margin-left: 0;
    width: 100%;
    padding: 1rem;
  }
  .calendario-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  .aluno-info-grid { grid-template-columns: 1fr; }
}
@media (max-width: 480px) {
  .calendario-grid {
    grid-template-columns: 1fr;
  }
  .ia-panel {
    width: 100vw;
    height: 100vh;
    bottom: 0;
    right: 0;
    border-radius: 0;
  }
}

/* ── ASSISTENTE IA (FAB + PANEL) ─────── */
.ia-fab {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--gradient-primary);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  box-shadow: var(--shadow-lg), var(--shadow-glow);
  z-index: 1100;
  transition: transform .2s ease, background .2s ease;
}
.ia-fab:hover {
  transform: scale(1.1);
}
.ia-fab.ia-fab-active {
  background: var(--gradient-danger);
}

.ia-panel {
  position: fixed;
  bottom: 5.5rem;
  right: 1.5rem;
  width: 400px;
  max-height: 550px;
  background: var(--bg-card);
  border-radius: var(--radius);
  box-shadow: 0 20px 60px rgba(0,0,0,.5);
  border: 1px solid var(--border);
  z-index: 1100;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.ia-panel-header {
  background: var(--gradient-primary);
  color: #fff;
  padding: .75rem 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
}

.ia-panel-body {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  min-height: 200px;
  max-height: 350px;
  background: var(--bg-alt);
}

.ia-panel-actions {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
  flex-shrink: 0;
}

.ia-panel-footer {
  display: flex;
  gap: .5rem;
  padding: .75rem 1rem;
  border-top: 1px solid var(--border);
  flex-shrink: 0;
  background: var(--bg-card);
}

.ia-panel-footer input {
  flex: 1;
  font-size: .875rem;
  background: var(--bg-alt);
  border-color: var(--border);
  color: var(--text);
}

.ia-msg {
  padding: .6rem .85rem;
  border-radius: 12px;
  font-size: .85rem;
  line-height: 1.5;
  max-width: 90%;
  word-wrap: break-word;
}

.ia-msg-user {
  align-self: flex-end;
  background: var(--gradient-primary);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.ia-msg-bot {
  align-self: flex-start;
  background: var(--bg-card);
  color: var(--text);
  border: 1px solid var(--border);
  border-bottom-left-radius: 4px;
}

.ia-msg-bot p { margin: 0 0 .5rem; }
.ia-msg-bot p:last-child { margin-bottom: 0; }
.ia-msg-bot ul, .ia-msg-bot ol { margin: .25rem 0; padding-left: 1.25rem; }
.ia-msg-bot strong { color: var(--accent); }
.ia-msg-bot table { font-size: .75rem; border-collapse: collapse; width: 100%; margin: .5rem 0; }
.ia-msg-bot table th, .ia-msg-bot table td { border: 1px solid var(--border); padding: .25rem .5rem; }
.ia-msg-bot table th { background: var(--bg-alt); font-weight: 600; }

.ia-loading {
  color: var(--text-muted);
  font-style: italic;
}

.ia-dots span {
  animation: iaDot 1.4s infinite;
  display: inline-block;
}
.ia-dots span:nth-child(2) { animation-delay: .2s; }
.ia-dots span:nth-child(3) { animation-delay: .4s; }

@keyframes iaDot {
  0%, 20% { opacity: .2; }
  50% { opacity: 1; }
  100% { opacity: .2; }
}

.ia-quick-btn {
  font-size: .75rem;
  border-radius: 20px;
}

/* ============================================================
   LOGIN SCREEN
   ============================================================ */
.login-screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #070d14 0%, #0f1923 40%, #1a1040 100%);
  position: relative;
  overflow: hidden;
}
.login-screen::before {
  content: '';
  position: absolute;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(0,212,170,.1) 0%, transparent 70%);
  top: -200px;
  right: -200px;
  animation: loginGlow 8s ease-in-out infinite alternate;
}
.login-screen::after {
  content: '';
  position: absolute;
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(99,102,241,.08) 0%, transparent 70%);
  bottom: -150px;
  left: -100px;
  animation: loginGlow 6s ease-in-out infinite alternate-reverse;
}
@keyframes loginGlow {
  0% { transform: scale(1) translate(0, 0); opacity: .6; }
  100% { transform: scale(1.3) translate(30px, -20px); opacity: 1; }
}
.login-container {
  background: rgba(255,255,255,.05);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 24px;
  padding: 3rem 2.5rem;
  width: 100%;
  max-width: 420px;
  position: relative;
  z-index: 1;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,.5);
  animation: loginSlideUp .6s ease-out;
}
@keyframes loginSlideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.login-header {
  text-align: center;
  margin-bottom: 2rem;
}
.login-logo {
  width: 80px;
  height: 80px;
  margin: 0 auto 1rem;
  background: linear-gradient(135deg, #00d4aa, #06b6d4);
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5rem;
  color: #fff;
  box-shadow: 0 10px 30px rgba(0,212,170,.3);
  animation: logoPulse 3s ease-in-out infinite;
}
@keyframes logoPulse {
  0%, 100% { box-shadow: 0 10px 30px rgba(0,212,170,.3); }
  50% { box-shadow: 0 10px 40px rgba(0,212,170,.5), 0 0 60px rgba(6,182,212,.2); }
}
.login-header h1 {
  color: #fff;
  font-size: 2rem;
  font-weight: 800;
  letter-spacing: 2px;
  margin-bottom: .25rem;
}
.login-header p {
  color: rgba(255,255,255,.5);
  font-size: .9rem;
}
.login-input {
  background: rgba(255,255,255,.08) !important;
  border: 1px solid rgba(255,255,255,.15) !important;
  color: #fff !important;
  padding: .75rem 1rem;
  font-size: 1rem;
  transition: all .2s ease;
}
.login-input:focus {
  background: rgba(255,255,255,.12) !important;
  border-color: var(--primary-light) !important;
  box-shadow: 0 0 0 3px rgba(99,102,241,.25) !important;
}
.login-input::placeholder { color: rgba(255,255,255,.3); }
.login-btn {
  padding: .75rem;
  font-weight: 600;
  font-size: 1rem;
  background: linear-gradient(135deg, #00d4aa, #06b6d4);
  border: none;
  transition: all .2s ease;
}
.login-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0,212,170,.4);
  background: linear-gradient(135deg, #10b981, #22d3ee);
}
.login-footer {
  text-align: center;
  margin-top: 2rem;
  color: rgba(255,255,255,.3);
}
@keyframes loginShake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-10px); }
  40% { transform: translateX(10px); }
  60% { transform: translateX(-6px); }
  80% { transform: translateX(6px); }
}

/* ============================================================
   MONITOR — Header & Filtros
   ============================================================ */
.monitor-header {
  margin-bottom: 1rem;
}
.monitor-filtros {
  margin-bottom: 1.5rem;
}
.monitor-tabs {
  display: flex;
  gap: 4px;
  background: var(--bg-alt);
  border-radius: 14px;
  padding: 4px;
  overflow-x: auto;
  border: 1px solid var(--border);
}
.monitor-tab {
  flex: 1;
  min-width: 100px;
  padding: .5rem .75rem;
  border: none;
  background: transparent;
  color: var(--text-muted);
  font-size: .8rem;
  font-weight: 600;
  border-radius: 10px;
  cursor: pointer;
  transition: all .25s ease;
  white-space: nowrap;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: .35rem;
}
.monitor-tab:hover {
  color: var(--accent);
  background: rgba(0,212,170,.08);
}
.monitor-tab.active {
  background: var(--gradient-primary);
  color: #fff;
  box-shadow: 0 2px 12px rgba(99,102,241,.4);
}
.monitor-filter-group {
  display: flex;
  align-items: center;
}
.monitor-select {
  max-width: 180px;
  font-size: .8rem !important;
  background: var(--bg-alt) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

/* ============================================================
   MONITOR — Cards Resumo (Gradient Dark)
   ============================================================ */
.monitor-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  box-shadow: var(--shadow);
  transition: all .3s ease;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--border);
}
.monitor-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: .06;
  border-radius: var(--radius);
}
.monitor-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}
.card-turmas { border-left: 4px solid #6366f1; }
.card-turmas::before { background: linear-gradient(135deg, #6366f1, transparent); }
.card-turmas .monitor-card-icon { color: #818cf8; background: rgba(99,102,241,.15); }

.card-alunos { border-left: 4px solid #06b6d4; }
.card-alunos::before { background: linear-gradient(135deg, #06b6d4, transparent); }
.card-alunos .monitor-card-icon { color: #22d3ee; background: rgba(6,182,212,.15); }

.card-frequencia { border-left: 4px solid #10b981; }
.card-frequencia::before { background: linear-gradient(135deg, #10b981, transparent); }
.card-frequencia .monitor-card-icon { color: #34d399; background: rgba(16,185,129,.15); }

.card-criticos { border-left: 4px solid #ef4444; }
.card-criticos::before { background: linear-gradient(135deg, #ef4444, transparent); }
.card-criticos .monitor-card-icon { color: #f87171; background: rgba(239,68,68,.15); }

.monitor-card-icon {
  width: 52px;
  height: 52px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  flex-shrink: 0;
}
.monitor-card-body {
  display: flex;
  flex-direction: column;
}
.monitor-card-value {
  font-size: 1.75rem;
  font-weight: 800;
  line-height: 1.1;
  color: var(--text);
  transition: all .5s ease;
}
.monitor-card-label {
  font-size: .75rem;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: .5px;
}

/* Animação de contagem nos cards */
.monitor-card-value.counting {
  animation: countPulse .4s ease;
}
@keyframes countPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); color: var(--primary); }
  100% { transform: scale(1); }
}

/* ============================================================
   MONITOR — Cards de Período (Manhã/Tarde/Noite)
   ============================================================ */
.monitor-periodo-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  box-shadow: var(--shadow);
  transition: all .3s ease;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--border);
}
.monitor-periodo-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}
.periodo-manha { border-top: 3px solid #f59e0b; }
.periodo-manha i { color: #fbbf24; }
.periodo-tarde { border-top: 3px solid #06b6d4; }
.periodo-tarde i { color: #22d3ee; }
.periodo-noite { border-top: 3px solid #8b5cf6; }
.periodo-noite i { color: #a78bfa; }

.monitor-periodo-perc {
  font-size: 1.8rem;
  font-weight: 800;
  color: var(--text);
}

/* ============================================================
   MONITOR — Barra de Progresso Animada
   ============================================================ */
.monitor-progress {
  height: 8px;
  background: var(--border);
  border-radius: 4px;
  overflow: hidden;
}
.monitor-progress-bar {
  height: 100%;
  border-radius: 4px;
  transition: width 1.2s cubic-bezier(.4, 0, .2, 1);
  position: relative;
}
.monitor-progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
  animation: progressShimmer 2s infinite;
}
@keyframes progressShimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* ============================================================
   MONITOR — Chart Cards
   ============================================================ */
.monitor-chart-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  height: 100%;
  transition: all .3s ease;
}
.monitor-chart-card:hover {
  box-shadow: var(--shadow-lg);
}
.monitor-chart-title {
  font-weight: 600;
  font-size: .85rem;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: .5px;
  margin-bottom: .75rem;
  display: flex;
  align-items: center;
  gap: .4rem;
}
.monitor-chart-title i {
  color: var(--accent);
}

/* ============================================================
   MONITOR — Badge "Ao Vivo" Pulsante
   ============================================================ */
.pulse-badge {
  position: relative;
  animation: pulseBadge 2s infinite;
}
.pulse-badge i {
  font-size: .5rem;
  vertical-align: middle;
  animation: pulseIcon 2s infinite;
}
@keyframes pulseBadge {
  0%, 100% { opacity: 1; }
  50% { opacity: .7; }
}
@keyframes pulseIcon {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}

/* ============================================================
   MONITOR — View Toggle (table/grid)
   ============================================================ */
.monitor-view-btn.active {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}

/* ============================================================
   MONITOR — Grid de Turmas (mini-cards)
   ============================================================ */
.monitor-turma-mini {
  background: var(--bg-card);
  border-radius: var(--radius-sm);
  padding: 1rem;
  border: 1px solid var(--border);
  transition: all .3s ease;
  text-align: center;
}
.monitor-turma-mini:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent);
}
.monitor-turma-mini .nome {
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--text);
}
.monitor-turma-mini .perc {
  font-size: 1.4rem;
  font-weight: 800;
}
.monitor-turma-mini .badge-periodo {
  font-size: .65rem;
}

/* Cores de frequência */
.freq-otima { color: #10b981; }
.freq-boa { color: #22d3ee; }
.freq-media { color: #eab308; }
.freq-baixa { color: #f97316; }
.freq-critica { color: #ef4444; }

/* ============================================================
   MONITOR — Tabela Animada
   ============================================================ */
.monitor-freq-bar {
  height: 10px;
  background: var(--border);
  border-radius: 5px;
  overflow: hidden;
  flex-grow: 1;
}
.monitor-freq-fill {
  height: 100%;
  border-radius: 5px;
  transition: width 1.5s cubic-bezier(.4, 0, .2, 1);
  min-width: 2%;
}

/* Row fade-in animation */
#corpo-tabela-monitor tr {
  animation: rowFadeIn .5s ease forwards;
  opacity: 0;
}
#corpo-tabela-monitor tr:nth-child(1) { animation-delay: .05s; }
#corpo-tabela-monitor tr:nth-child(2) { animation-delay: .1s; }
#corpo-tabela-monitor tr:nth-child(3) { animation-delay: .15s; }
#corpo-tabela-monitor tr:nth-child(4) { animation-delay: .2s; }
#corpo-tabela-monitor tr:nth-child(5) { animation-delay: .25s; }
#corpo-tabela-monitor tr:nth-child(6) { animation-delay: .3s; }
#corpo-tabela-monitor tr:nth-child(7) { animation-delay: .35s; }
#corpo-tabela-monitor tr:nth-child(8) { animation-delay: .4s; }
#corpo-tabela-monitor tr:nth-child(9) { animation-delay: .45s; }
#corpo-tabela-monitor tr:nth-child(10) { animation-delay: .5s; }
#corpo-tabela-monitor tr:nth-child(n+11) { animation-delay: .55s; }

@keyframes rowFadeIn {
  from { opacity: 0; transform: translateX(-15px); }
  to { opacity: 1; transform: translateX(0); }
}

/* Alunos críticos table animation */
#corpo-tabela-criticos tr {
  animation: rowFadeInDanger .5s ease forwards;
  opacity: 0;
}
#corpo-tabela-criticos tr:nth-child(1) { animation-delay: .05s; }
#corpo-tabela-criticos tr:nth-child(2) { animation-delay: .1s; }
#corpo-tabela-criticos tr:nth-child(3) { animation-delay: .15s; }
#corpo-tabela-criticos tr:nth-child(4) { animation-delay: .2s; }
#corpo-tabela-criticos tr:nth-child(5) { animation-delay: .25s; }
@keyframes rowFadeInDanger {
  from { opacity: 0; transform: translateX(-15px); background: rgba(239,68,68,.1); }
  to { opacity: 1; transform: translateX(0); background: transparent; }
}

/* ============================================================
   MONITOR — Animações Inspiradas em Matplotlib
   ============================================================ */

/* Osciloscópio / Strip chart - linha percorrendo */
.monitor-oscilloscope {
  position: relative;
  overflow: hidden;
}
.monitor-oscilloscope::after {
  content: '';
  position: absolute;
  top: 0;
  width: 2px;
  height: 100%;
  background: rgba(99,102,241,.4);
  animation: oscilloscopeScan 4s linear infinite;
}
@keyframes oscilloscopeScan {
  0% { left: 0; }
  100% { left: 100%; }
}

/* Partículas de "chuva" (rain animation) no fundo do header */
.rain-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: rgba(99,102,241,.3);
  border-radius: 50%;
  animation: rainFall linear infinite;
}
@keyframes rainFall {
  0% { transform: translateY(-10px) scale(0); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: .5; }
  100% { transform: translateY(100vh) scale(1.5); opacity: 0; }
}

/* Decay animation para valores mudando */
@keyframes valueDecay {
  0% { transform: scale(1.15); opacity: .7; }
  50% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.value-updated {
  animation: valueDecay .6s ease-out;
}

/* Histogram bar grow animation */
@keyframes barGrow {
  from { transform: scaleY(0); transform-origin: bottom; }
  to { transform: scaleY(1); transform-origin: bottom; }
}

/* Random walk - floating elements */
@keyframes floatWalk {
  0% { transform: translate(0, 0); }
  25% { transform: translate(5px, -8px); }
  50% { transform: translate(-3px, -4px); }
  75% { transform: translate(7px, 3px); }
  100% { transform: translate(0, 0); }
}

/* Refresh spinner */
.spin {
  animation: spin .8s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ============================================================
   MONITOR — Tela Cheia / Fullscreen Mode
   ============================================================ */
.monitor-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2000;
  background: var(--bg);
  overflow-y: auto;
  padding: 1.5rem;
}
.monitor-fullscreen .sidebar { display: none !important; }
.monitor-fullscreen .main-content { margin-left: 0 !important; width: 100% !important; }

/* Fullscreen toggle button */
.btn-fullscreen {
  background: var(--bg-card);
  border: 1px solid var(--border);
  color: var(--accent);
  border-radius: var(--radius-sm);
  padding: .4rem .75rem;
  font-size: .8rem;
  cursor: pointer;
  transition: all .25s;
  display: flex;
  align-items: center;
  gap: .35rem;
}
.btn-fullscreen:hover {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}

/* ============================================================
   INÍCIO — Turno Buttons
   ============================================================ */
.inicio-turno-btn {
  background: var(--bg-card) !important;
  color: var(--text-muted) !important;
  border-color: var(--border) !important;
}
.inicio-turno-btn.active {
  color: #fff !important;
}
.inicio-turno-btn[data-turno="todos"].active { background: var(--gradient-primary) !important; border-color: var(--primary) !important; }
.inicio-turno-btn[data-turno="manha"].active { background-color: #f59e0b !important; border-color: #f59e0b !important; }
.inicio-turno-btn[data-turno="tarde"].active { background-color: #06b6d4 !important; border-color: #06b6d4 !important; }
.inicio-turno-btn[data-turno="noite"].active { background-color: #8b5cf6 !important; border-color: #8b5cf6 !important; }

/* ============================================================
   CALENDÁRIO PEDAGÓGICO — Layout
   ============================================================ */
.cal-ped-legenda {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 1rem;
}
.cal-ped-legenda .legenda-item {
  font-size: .78rem;
  background: var(--bg-card);
  padding: .35rem .65rem;
  border-radius: 8px;
  border: 1px solid var(--border);
}
.cal-ped-info {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 1.25rem;
  border: 1px solid var(--border);
  margin-bottom: 1.5rem;
}
.cal-ped-bimestre {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .4rem .75rem;
  border-radius: 8px;
  font-size: .8rem;
  font-weight: 600;
}
.bim-1 { background: rgba(6,182,212,.15); color: #22d3ee; }
.bim-2 { background: rgba(99,102,241,.15); color: #818cf8; }
.bim-3 { background: rgba(245,158,11,.15); color: #fbbf24; }
.bim-4 { background: rgba(239,68,68,.15); color: #f87171; }

/* ============================================================
   FONTE DE DADOS — Badge CSV
   ============================================================ */
.badge-fonte {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  font-size: .7rem;
  font-weight: 600;
  padding: .3rem .6rem;
  border-radius: 6px;
  background: rgba(0,212,170,.12);
  color: var(--accent);
  border: 1px solid rgba(0,212,170,.25);
}
.badge-fev-completo {
  background: rgba(16,185,129,.12);
  color: #10b981;
  border: 1px solid rgba(16,185,129,.25);
}

/* ============================================================
   BOOTSTRAP DARK OVERRIDES
   ============================================================ */
.form-control, .form-select {
  background-color: var(--bg-alt) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}
.form-control:focus, .form-select:focus {
  background-color: var(--bg-card) !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 .2rem rgba(0,212,170,.15) !important;
  color: var(--text) !important;
}
.form-control::placeholder { color: var(--text-muted) !important; }
.btn-outline-primary { color: var(--accent); border-color: var(--accent); }
.btn-outline-primary:hover { background: var(--accent); color: #fff; border-color: var(--accent); }
.btn-outline-danger { color: #f87171; border-color: #f87171; }
.btn-outline-danger:hover { background: #ef4444; color: #fff; }
.btn-primary { background: var(--gradient-primary); border: none; }
.btn-primary:hover { opacity: .9; }
.badge.bg-primary { background: var(--gradient-primary) !important; }
.badge.bg-success { background: rgba(16,185,129,.2) !important; color: #10b981 !important; }
.badge.bg-danger { background: rgba(239,68,68,.2) !important; color: #ef4444 !important; }
.badge.bg-warning { background: rgba(245,158,11,.2) !important; color: #f59e0b !important; }
.badge.bg-info { background: rgba(6,182,212,.2) !important; color: #22d3ee !important; }
.alert { background: var(--bg-card); border: 1px solid var(--border); color: var(--text); }
.alert-success { border-color: rgba(16,185,129,.3); }
.alert-warning { border-color: rgba(245,158,11,.3); }
.alert-danger { border-color: rgba(239,68,68,.3); }
.modal-content { background: var(--bg-card); border: 1px solid var(--border); color: var(--text); }
.modal-header { border-bottom-color: var(--border); }
.modal-footer { border-top-color: var(--border); }
.btn-close { filter: invert(1); }

/* ============================================================
   RESPONSIVE — Monitor Extras
   ============================================================ */
@media (max-width: 768px) {
  .monitor-tabs {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  .monitor-tab {
    min-width: 80px;
    font-size: .72rem;
    padding: .4rem .5rem;
  }
  .monitor-card-value {
    font-size: 1.3rem;
  }
  .monitor-periodo-perc {
    font-size: 1.4rem;
  }
  .login-container {
    margin: 1rem;
    padding: 2rem 1.5rem;
  }
}

/* ============================================================
   PLOTLY DARK THEME FIX
   ============================================================ */
.js-plotly-plot .plotly .bg { fill: transparent !important; }
.js-plotly-plot { background: transparent !important; }

/* ============================================================
   ALERTAS WHATSAPP
   ============================================================ */

#page-alertas-whatsapp .page-title {
  color: #25d366;
}

#page-alertas-whatsapp .page-title i {
  color: #25d366;
}

/* Status badges */
.wpp-badge-critico {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
}

.wpp-badge-atencao {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
}

.wpp-badge-regular {
  background: rgba(0, 212, 170, 0.2);
  color: #00d4aa;
  border: 1px solid rgba(0, 212, 170, 0.3);
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
}

.wpp-badge-sem-tel {
  background: rgba(148, 163, 184, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(148, 163, 184, 0.3);
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
}

/* Tabela WhatsApp */
#wpp-tabela-alunos th {
  font-size: 0.75rem;
  text-transform: uppercase;
  color: #94a3b8;
  border-bottom-color: #1e293b;
  white-space: nowrap;
}

#wpp-tabela-alunos td {
  font-size: 0.82rem;
  vertical-align: middle;
  border-bottom-color: #1e293b;
}

#wpp-tabela-alunos .aluno-nome {
  font-weight: 600;
  color: #e2e8f0;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#wpp-tabela-alunos .btn-wpp-enviar {
  background: #25d366;
  color: #fff;
  border: none;
  padding: 0.2rem 0.5rem;
  border-radius: 6px;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;
}

#wpp-tabela-alunos .btn-wpp-enviar:hover {
  background: #20b858;
  transform: scale(1.05);
}

#wpp-tabela-alunos .btn-wpp-enviar:disabled {
  background: #374151;
  color: #6b7280;
  cursor: not-allowed;
}

/* Frequencia bar inline */
.wpp-freq-bar {
  display: flex;
  align-items: center;
  gap: 6px;
}

.wpp-freq-bar-bg {
  flex: 1;
  height: 6px;
  background: #1e293b;
  border-radius: 3px;
  overflow: hidden;
  min-width: 50px;
}

.wpp-freq-bar-fill {
  height: 100%;
  border-radius: 3px;
  transition: width 0.3s;
}

.wpp-freq-bar-label {
  font-size: 0.75rem;
  font-weight: 700;
  min-width: 38px;
  text-align: right;
}

/* WhatsApp phone display */
.wpp-phone-display {
  font-size: 0.78rem;
  color: #25d366;
  font-family: 'Fira Code', monospace;
}

.wpp-phone-none {
  font-size: 0.78rem;
  color: #6b7280;
  font-style: italic;
}

/* Pagination */
#wpp-paginacao .page-link {
  background: #1a2332;
  border-color: #2d3748;
  color: #94a3b8;
  font-size: 0.8rem;
}

#wpp-paginacao .page-item.active .page-link {
  background: #25d366;
  border-color: #25d366;
  color: #fff;
}

#wpp-paginacao .page-link:hover {
  background: #2d3748;
  color: #e2e8f0;
}

/* Filter buttons - override for whatsapp page */
#wpp-turno-btns .btn,
#wpp-tipo-btns .btn {
  font-size: 0.78rem;
  padding: 0.3rem 0.6rem;
}

@media (max-width: 768px) {
  #wpp-tabela-alunos .aluno-nome {
    max-width: 120px;
  }
  #wpp-cards-resumo .col-lg-2 {
    flex: 0 0 50%;
    max-width: 50%;
  }
}
